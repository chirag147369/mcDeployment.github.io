(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{UX3m:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductModule",function(){return S});var o=n("ofXK"),c=n("SuNV"),r=n("K245"),i=n("/0wd"),a=n("fXoL"),b=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Nb({type:t,selectors:[["app-add-product"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Zb(0,"p"),a.Vc(1,"add-product works!"),a.Yb())},styles:[""]}),t}(),s=n("mrSG"),u=n("tk/3"),d=n("AytR"),l=n("2Vo4"),p=function(){function t(t){this._httpClient=t,this.onApiDataChanged=new l.a({}),this.currentUser=JSON.parse(localStorage.getItem("currentUser"))}return t.prototype.resolve=function(t,e){var n=this;return new Promise(function(t,e){Promise.all([n.getApiData()]).then(function(){t()},e)})},t.prototype.getApiData=function(){var t=this;return console.log(this.currentUser),new Promise(function(e,n){var o=new u.e({"Content-Type":"application/json","access-token":t.currentUser.token});t._httpClient.get(d.a.apiUrl+"/product",{headers:o}).subscribe(function(n){t.apiData=n,t.onApiDataChanged.next(t.apiData),e(t.apiData)},n)})},t.prototype.DeleteProduct=function(t){var e=this;return new Promise(function(n,o){var c=new u.e({"Content-Type":"application/json","access-token":e.currentUser.token});e._httpClient.delete(d.a.apiUrl+"/product/"+t,{headers:c}).subscribe(function(t){e.apiData=t,e.onApiDataChanged.next(e.apiData),n(e.apiData)},o)})},t.\u0275fac=function(e){return new(e||t)(a.gc(u.c))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),h=n("3Pt+"),v=n("1kSV"),f=n("DGdB");function g(t,e){if(1&t){var n=a.ac();a.Zb(0,"tbody"),a.Zb(1,"tr"),a.Zb(2,"td"),a.Zb(3,"span",16),a.Vc(4),a.Yb(),a.Yb(),a.Zb(5,"td"),a.Zb(6,"span"),a.Vc(7),a.Yb(),a.Ub(8,"br"),a.Zb(9,"span"),a.Vc(10),a.Yb(),a.Yb(),a.Zb(11,"td"),a.Vc(12),a.Yb(),a.Zb(13,"td"),a.Vc(14),a.Yb(),a.Zb(15,"td"),a.Vc(16),a.Yb(),a.Zb(17,"td"),a.Vc(18),a.Yb(),a.Zb(19,"td",17),a.Zb(20,"div",18),a.Zb(21,"button",19),a.Ub(22,"i",20),a.Yb(),a.Zb(23,"div",21),a.Zb(24,"a",22),a.kc("click",function(){a.Lc(n);var t=e.$implicit;return a.oc().DeleteProduct(t)}),a.Ub(25,"i",23),a.Zb(26,"span"),a.Vc(27,"Delete"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){var o=e.$implicit,c=e.index;a.Fb(4),a.Wc(c+1),a.Fb(3),a.Xc(" ",null==o.category?null:o.category.name," "),a.Fb(3),a.Xc(" ",null==o.subcategory?null:o.subcategory.name," "),a.Fb(2),a.Wc(o.title),a.Fb(2),a.Wc(o.stock),a.Fb(2),a.Wc(o.price),a.Fb(2),a.Wc(o.price)}}var Y=function(){function t(t){var e=this;this._productServices=t,this.loading=!1,this.ProductData=[],this.selectedOption=10,this.changePageSize=function(t){return Object(s.b)(e,void 0,void 0,function(){var e;return Object(s.e)(this,function(n){switch(n.label){case 0:return this.selectedOption=t.target.value,console.log(this.selectedOption),[4,this._productServices.getApiData()];case 1:return e=n.sent(),console.log(e,this._productServices.apiData),this.ProductData=e.result,[2]}})})},this.DeleteProduct=function(t){return Object(s.b)(e,void 0,void 0,function(){var e;return Object(s.e)(this,function(n){switch(n.label){case 0:return!0!==window.confirm("Are you sure you want to delete this product?")?[3,3]:[4,this._productServices.DeleteProduct(t._id)];case 1:return n.sent(),[4,this._productServices.getApiData()];case 2:e=n.sent(),this.ProductData=e.result,n.label=3;case 3:return[2]}})})}}return t.prototype.ngOnInit=function(){return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.e)(this,function(e){switch(e.label){case 0:return[4,this._productServices.getApiData()];case 1:return t=e.sent(),console.log(t,this._productServices.apiData),this.ProductData=t.result,console.log(this.ProductData),[2]}})})},t.\u0275fac=function(e){return new(e||t)(a.Tb(p))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-product-list"]],decls:41,vars:2,consts:[["id","basic-table",1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"overflow-hidden"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","","data-toggle","dropdown",1,"btn","btn-sm","hide-arrow"],["appDataFeather","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","","href","javascript:void(0);",3,"click"],["appDataFeather","trash",1,"mr-50"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h4",4),a.Vc(5,"Customer List"),a.Yb(),a.Yb(),a.Zb(6,"div",5),a.Zb(7,"div",6),a.Zb(8,"label",7),a.Vc(9,"Show "),a.Zb(10,"select",8),a.kc("ngModelChange",function(t){return e.selectedOption=t})("change",function(t){return e.changePageSize(t)}),a.Zb(11,"option",9),a.Vc(12,"10"),a.Yb(),a.Zb(13,"option",10),a.Vc(14,"25"),a.Yb(),a.Zb(15,"option",11),a.Vc(16,"50"),a.Yb(),a.Zb(17,"option",12),a.Vc(18,"100"),a.Yb(),a.Yb(),a.Vc(19," entries"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"div",13),a.Zb(21,"table",14),a.Zb(22,"thead"),a.Zb(23,"tr"),a.Zb(24,"th"),a.Vc(25,"S.No"),a.Yb(),a.Zb(26,"th"),a.Vc(27,"Category"),a.Ub(28,"br"),a.Vc(29,"SubCategory"),a.Yb(),a.Zb(30,"th"),a.Vc(31,"Product Title"),a.Yb(),a.Zb(32,"th"),a.Vc(33,"Qunatity"),a.Yb(),a.Zb(34,"th"),a.Vc(35,"Total Purchase Amount"),a.Yb(),a.Zb(36,"th"),a.Vc(37,"Total Selling Amount"),a.Yb(),a.Zb(38,"th"),a.Vc(39,"Actions"),a.Yb(),a.Yb(),a.Yb(),a.Tc(40,g,28,7,"tbody",15),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Fb(10),a.vc("ngModel",e.selectedOption),a.Fb(30),a.vc("ngForOf",e.ProductData))},directives:[h.A,h.q,h.t,h.u,h.D,o.o,v.j,v.m,f.a,v.l,v.k],styles:[""]}),t}(),Z=n("tyNb"),m=n("9Ja1"),D=n("sYmb"),w=n("CV0D"),y=n("Kdsb"),V=n("lVdo"),P=[{path:"add-product",component:b,canActivate:[c.a],data:{roles:[r.a.Admin]},resolve:{css:p,inv:i.a}},{path:"product-list",component:Y,canActivate:[c.a],resolve:{css:p}}],S=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({providers:[p,i.a],imports:[[o.c,Z.h.forChild(P),D.b,v.p,y.c,m.a,w.b,V.InvoiceModule]]}),t}()}}]);
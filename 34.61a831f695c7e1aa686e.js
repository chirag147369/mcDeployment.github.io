(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"8szd":function(e,t,r){"use strict";r.r(t),r.d(t,"OrderModule",function(){return j});var n=r("ofXK"),i=r("SuNV"),o=r("tk/3"),c=r("AytR"),a=r("2Vo4"),b=r("fXoL"),s=function(){function e(e){this._httpClient=e,this.onApiDataChanged=new a.a({}),this.currentUser=JSON.parse(localStorage.getItem("currentUser"))}return e.prototype.resolve=function(e,t){var r=this;return new Promise(function(e,t){Promise.all([r.getRecentOrders(1,10)]).then(function(){e()},t)})},e.prototype.getRecentOrders=function(e,t){var r=this;return console.log(e,t,"ii"),new Promise(function(n,i){var a=new o.e({"Content-Type":"application/json","access-token":r.currentUser.token});r._httpClient.get(c.a.apiUrl+"/admin/orders?page="+e+"&size="+t,{headers:a}).subscribe(function(e){r.apiData=e,r.onApiDataChanged.next(r.apiData),n(r.apiData)},i)})},e.prototype.getCancelledOrders=function(e,t){var r=this;return new Promise(function(n,i){var a=new o.e({"Content-Type":"application/json","access-token":r.currentUser.token});r._httpClient.get(c.a.apiUrl+"/admin/Cancelledorders?page="+e+"&size="+t,{headers:a}).subscribe(function(e){r.apiData=e,r.onApiDataChanged.next(r.apiData),n(r.apiData)},i)})},e.prototype.deleteOrder=function(e){var t=this;return new Promise(function(r,n){var i=new o.e({"Content-Type":"application/json","access-token":t.currentUser.token});t._httpClient.delete(c.a.apiUrl+"/order/"+e,{headers:i}).subscribe(function(e){t.apiData=e,t.onApiDataChanged.next(t.apiData),r(t.apiData)},n)})},e.prototype.getDeliveredOrders=function(e,t){var r=this;return new Promise(function(n,i){var a=new o.e({"Content-Type":"application/json","access-token":r.currentUser.token});r._httpClient.get(c.a.apiUrl+"/admin/Deliveredorders?page="+e+"&size="+t,{headers:a}).subscribe(function(e){r.apiData=e,r.onApiDataChanged.next(r.apiData),n(r.apiData)},i)})},e.\u0275fac=function(t){return new(t||e)(b.gc(o.c))},e.\u0275prov=b.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),d=r("tyNb"),l=r("9Ja1"),u=r("1kSV"),h=r("sYmb"),p=r("CV0D"),v=r("Kdsb"),g=r("lVdo"),Y=r("mrSG"),Z=r("3Pt+"),f=r("DGdB");function m(e,t){if(1&e){var r=b.ac();b.Zb(0,"tbody"),b.Zb(1,"tr"),b.Zb(2,"td"),b.Zb(3,"span",16),b.Vc(4),b.Yb(),b.Yb(),b.Zb(5,"td"),b.Vc(6),b.Yb(),b.Zb(7,"td"),b.Zb(8,"span"),b.Vc(9),b.Yb(),b.Yb(),b.Zb(10,"td"),b.Vc(11),b.Yb(),b.Zb(12,"td"),b.Vc(13),b.Yb(),b.Zb(14,"td"),b.Vc(15),b.Yb(),b.Zb(16,"td"),b.Vc(17),b.Yb(),b.Zb(18,"td",17),b.Zb(19,"div",18),b.Zb(20,"button",19),b.Ub(21,"i",20),b.Yb(),b.Zb(22,"div",21),b.Zb(23,"a",22),b.kc("click",function(){b.Lc(r);var e=t.$implicit;return b.oc().deleteOrder(e)}),b.Ub(24,"i",23),b.Zb(25,"span"),b.Vc(26,"Delete"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){var n=t.$implicit,i=t.index;b.Fb(4),b.Wc(i+1),b.Fb(2),b.Xc(" ",n._id," "),b.Fb(3),b.Xc(" ",n.createdAt," "),b.Fb(2),b.Wc(n.amount),b.Fb(2),b.Wc(n.deliveryAddress),b.Fb(2),b.Wc(n.deliveryStatus),b.Fb(2),b.Wc(n.remark)}}var O=function(){function e(e){var t=this;this._ordersServices=e,this.loading=!1,this.ordersData=[],this.selectedOption=10,this.pageNumber=1,this.changePageSize=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return this.selectedOption=e.target.value,[4,this._ordersServices.getCancelledOrders(this.pageNumber,this.selectedOption)];case 1:return t=r.sent(),this.ordersData=t.result,[2]}})})},this.deleteOrder=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return!0!==window.confirm("Are you sure you want to delete this order?")?[3,3]:(console.log(e._id),[4,this._ordersServices.deleteOrder(e._id)]);case 1:return r.sent(),[4,this._ordersServices.getCancelledOrders(this.pageNumber,this.selectedOption)];case 2:t=r.sent(),console.log(t,this._ordersServices.apiData),this.ordersData=t.result,r.label=3;case 3:return[2]}})})}}return e.prototype.ngOnInit=function(){return Object(Y.b)(this,void 0,void 0,function(){var e;return Object(Y.e)(this,function(t){switch(t.label){case 0:return[4,this._ordersServices.getCancelledOrders(this.pageNumber,this.selectedOption)];case 1:return e=t.sent(),this.ordersData=e.result,[2]}})})},e.\u0275fac=function(t){return new(t||e)(b.Tb(s))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-cancel-order"]],decls:41,vars:2,consts:[["id","basic-table",1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"overflow-hidden"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","","data-toggle","dropdown",1,"btn","btn-sm","hide-arrow"],["appDataFeather","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","","href","javascript:void(0);",3,"click"],["appDataFeather","trash",1,"mr-50"]],template:function(e,t){1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"h4",4),b.Vc(5,"Cancel Orders"),b.Yb(),b.Yb(),b.Zb(6,"div",5),b.Zb(7,"div",6),b.Zb(8,"label",7),b.Vc(9,"Show "),b.Zb(10,"select",8),b.kc("ngModelChange",function(e){return t.selectedOption=e})("change",function(e){return t.changePageSize(e)}),b.Zb(11,"option",9),b.Vc(12,"10"),b.Yb(),b.Zb(13,"option",10),b.Vc(14,"25"),b.Yb(),b.Zb(15,"option",11),b.Vc(16,"50"),b.Yb(),b.Zb(17,"option",12),b.Vc(18,"100"),b.Yb(),b.Yb(),b.Vc(19," entries"),b.Yb(),b.Yb(),b.Yb(),b.Zb(20,"div",13),b.Zb(21,"table",14),b.Zb(22,"thead"),b.Zb(23,"tr"),b.Zb(24,"th"),b.Vc(25,"S.No"),b.Yb(),b.Zb(26,"th"),b.Vc(27,"OrderId"),b.Yb(),b.Zb(28,"th"),b.Vc(29,"Order Date"),b.Yb(),b.Zb(30,"th"),b.Vc(31,"Total Amount"),b.Yb(),b.Zb(32,"th"),b.Vc(33,"Address"),b.Yb(),b.Zb(34,"th"),b.Vc(35,"Order Status"),b.Yb(),b.Zb(36,"th"),b.Vc(37,"Remark"),b.Yb(),b.Zb(38,"th"),b.Vc(39,"Actions"),b.Yb(),b.Yb(),b.Yb(),b.Tc(40,m,27,7,"tbody",15),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Fb(10),b.vc("ngModel",t.selectedOption),b.Fb(30),b.vc("ngForOf",t.ordersData))},directives:[Z.A,Z.q,Z.t,Z.u,Z.D,n.o,u.j,u.m,f.a,u.l,u.k],styles:[""]}),e}();function V(e,t){if(1&e){var r=b.ac();b.Zb(0,"tbody"),b.Zb(1,"tr"),b.Zb(2,"td"),b.Zb(3,"span",16),b.Vc(4),b.Yb(),b.Yb(),b.Zb(5,"td"),b.Vc(6),b.Yb(),b.Zb(7,"td"),b.Zb(8,"span"),b.Vc(9),b.Yb(),b.Yb(),b.Zb(10,"td"),b.Vc(11),b.Yb(),b.Zb(12,"td"),b.Vc(13),b.Yb(),b.Zb(14,"td"),b.Vc(15),b.Yb(),b.Zb(16,"td"),b.Vc(17),b.Yb(),b.Zb(18,"td",17),b.Zb(19,"div",18),b.Zb(20,"button",19),b.Ub(21,"i",20),b.Yb(),b.Zb(22,"div",21),b.Zb(23,"a",22),b.kc("click",function(){b.Lc(r);var e=t.$implicit;return b.oc().deleteOrder(e)}),b.Ub(24,"i",23),b.Zb(25,"span"),b.Vc(26,"Delete"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){var n=t.$implicit,i=t.index;b.Fb(4),b.Wc(i+1),b.Fb(2),b.Xc(" ",n._id," "),b.Fb(3),b.Xc(" ",n.createdAt," "),b.Fb(2),b.Wc(n.amount),b.Fb(2),b.Wc(n.deliveryAddress),b.Fb(2),b.Wc(n.deliveryStatus),b.Fb(2),b.Wc(n.remark)}}var D=function(){function e(e){var t=this;this._ordersServices=e,this.loading=!1,this.ordersData=[],this.selectedOption=10,this.pageNumber=1,this.changePageSize=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return this.selectedOption=e.target.value,console.log(this.selectedOption),[4,this._ordersServices.getDeliveredOrders(this.pageNumber,this.selectedOption)];case 1:return t=r.sent(),console.log(t,this._ordersServices.apiData),this.ordersData=t.result,[2]}})})},this.deleteOrder=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return!0!==window.confirm("Are you sure you want to delete this order?")?[3,3]:(console.log(e._id),[4,this._ordersServices.deleteOrder(e._id)]);case 1:return r.sent(),[4,this._ordersServices.getDeliveredOrders(this.pageNumber,this.selectedOption)];case 2:t=r.sent(),console.log(t,this._ordersServices.apiData),this.ordersData=t.result,r.label=3;case 3:return[2]}})})}}return e.prototype.ngOnInit=function(){return Object(Y.b)(this,void 0,void 0,function(){var e;return Object(Y.e)(this,function(t){switch(t.label){case 0:return[4,this._ordersServices.getDeliveredOrders(this.pageNumber,this.selectedOption)];case 1:return e=t.sent(),console.log(e,this._ordersServices.apiData),this.ordersData=e.result,console.log(this.ordersData),[2]}})})},e.\u0275fac=function(t){return new(t||e)(b.Tb(s))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-delivered-order"]],decls:41,vars:2,consts:[["id","basic-table",1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"overflow-hidden"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","","data-toggle","dropdown",1,"btn","btn-sm","hide-arrow"],["appDataFeather","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","","href","javascript:void(0);",3,"click"],["appDataFeather","trash",1,"mr-50"]],template:function(e,t){1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"h4",4),b.Vc(5,"Delivered Orders"),b.Yb(),b.Yb(),b.Zb(6,"div",5),b.Zb(7,"div",6),b.Zb(8,"label",7),b.Vc(9,"Show "),b.Zb(10,"select",8),b.kc("ngModelChange",function(e){return t.selectedOption=e})("change",function(e){return t.changePageSize(e)}),b.Zb(11,"option",9),b.Vc(12,"10"),b.Yb(),b.Zb(13,"option",10),b.Vc(14,"25"),b.Yb(),b.Zb(15,"option",11),b.Vc(16,"50"),b.Yb(),b.Zb(17,"option",12),b.Vc(18,"100"),b.Yb(),b.Yb(),b.Vc(19," entries"),b.Yb(),b.Yb(),b.Yb(),b.Zb(20,"div",13),b.Zb(21,"table",14),b.Zb(22,"thead"),b.Zb(23,"tr"),b.Zb(24,"th"),b.Vc(25,"S.No"),b.Yb(),b.Zb(26,"th"),b.Vc(27,"OrderId"),b.Yb(),b.Zb(28,"th"),b.Vc(29,"Order Date"),b.Yb(),b.Zb(30,"th"),b.Vc(31,"Total Amount"),b.Yb(),b.Zb(32,"th"),b.Vc(33,"Address"),b.Yb(),b.Zb(34,"th"),b.Vc(35,"Order Status"),b.Yb(),b.Zb(36,"th"),b.Vc(37,"Remark"),b.Yb(),b.Zb(38,"th"),b.Vc(39,"Actions"),b.Yb(),b.Yb(),b.Yb(),b.Tc(40,V,27,7,"tbody",15),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Fb(10),b.vc("ngModel",t.selectedOption),b.Fb(30),b.vc("ngForOf",t.ordersData))},directives:[Z.A,Z.q,Z.t,Z.u,Z.D,n.o,u.j,u.m,f.a,u.l,u.k],styles:[""]}),e}();function w(e,t){if(1&e){var r=b.ac();b.Zb(0,"tbody"),b.Zb(1,"tr"),b.Zb(2,"td"),b.Zb(3,"span",16),b.Vc(4),b.Yb(),b.Yb(),b.Zb(5,"td"),b.Vc(6),b.Yb(),b.Zb(7,"td"),b.Zb(8,"span"),b.Vc(9),b.Yb(),b.Yb(),b.Zb(10,"td"),b.Vc(11),b.Yb(),b.Zb(12,"td"),b.Vc(13),b.Yb(),b.Zb(14,"td"),b.Vc(15),b.Yb(),b.Zb(16,"td"),b.Vc(17),b.Yb(),b.Zb(18,"td",17),b.Zb(19,"div",18),b.Zb(20,"button",19),b.Ub(21,"i",20),b.Yb(),b.Zb(22,"div",21),b.Zb(23,"a",22),b.kc("click",function(){b.Lc(r);var e=t.$implicit;return b.oc().deleteOrder(e)}),b.Ub(24,"i",23),b.Zb(25,"span"),b.Vc(26,"Delete"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){var n=t.$implicit,i=t.index;b.Fb(4),b.Wc(i+1),b.Fb(2),b.Xc(" ",n._id," "),b.Fb(3),b.Xc(" ",n.createdAt," "),b.Fb(2),b.Wc(n.amount),b.Fb(2),b.Wc(n.deliveryAddress),b.Fb(2),b.Wc(n.deliveryStatus),b.Fb(2),b.Wc(n.remark)}}var y=function(){function e(e){var t=this;this._ordersServices=e,this.loading=!1,this.ordersData=[],this.selectedOption=10,this.pageNumber=1,this.changePageSize=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return this.selectedOption=e.target.value,[4,this._ordersServices.getRecentOrders(this.pageNumber,this.selectedOption)];case 1:return t=r.sent(),this.ordersData=t.result,[2]}})})},this.onChangePage=function(e){return Object(Y.b)(t,void 0,void 0,function(){return Object(Y.e)(this,function(e){return[2]})})},this.deleteOrder=function(e){return Object(Y.b)(t,void 0,void 0,function(){var t;return Object(Y.e)(this,function(r){switch(r.label){case 0:return!0!==window.confirm("Are you sure you want to delete this order?")?[3,3]:(console.log(e._id),[4,this._ordersServices.deleteOrder(e._id)]);case 1:return r.sent(),[4,this._ordersServices.getRecentOrders(this.pageNumber,this.selectedOption)];case 2:t=r.sent(),console.log(t,this._ordersServices.apiData),this.ordersData=t.result,r.label=3;case 3:return[2]}})})}}return e.prototype.ngOnInit=function(){return Object(Y.b)(this,void 0,void 0,function(){var e;return Object(Y.e)(this,function(t){switch(t.label){case 0:return[4,this._ordersServices.getRecentOrders(this.pageNumber,this.selectedOption)];case 1:return e=t.sent(),this.ordersData=e.result,[2]}})})},e.\u0275fac=function(t){return new(t||e)(b.Tb(s))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-recent-order"]],decls:41,vars:2,consts:[["id","basic-table",1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"],[1,"overflow-hidden"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","","data-toggle","dropdown",1,"btn","btn-sm","hide-arrow"],["appDataFeather","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","","href","javascript:void(0);",3,"click"],["appDataFeather","trash",1,"mr-50"]],template:function(e,t){1&e&&(b.Zb(0,"div",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"h4",4),b.Vc(5,"Recent Orders"),b.Yb(),b.Yb(),b.Zb(6,"div",5),b.Zb(7,"div",6),b.Zb(8,"label",7),b.Vc(9,"Show "),b.Zb(10,"select",8),b.kc("ngModelChange",function(e){return t.selectedOption=e})("change",function(e){return t.changePageSize(e)}),b.Zb(11,"option",9),b.Vc(12,"10"),b.Yb(),b.Zb(13,"option",10),b.Vc(14,"25"),b.Yb(),b.Zb(15,"option",11),b.Vc(16,"50"),b.Yb(),b.Zb(17,"option",12),b.Vc(18,"100"),b.Yb(),b.Yb(),b.Vc(19," entries"),b.Yb(),b.Yb(),b.Yb(),b.Zb(20,"div",13),b.Zb(21,"table",14),b.Zb(22,"thead"),b.Zb(23,"tr"),b.Zb(24,"th"),b.Vc(25,"S.No"),b.Yb(),b.Zb(26,"th"),b.Vc(27,"OrderId"),b.Yb(),b.Zb(28,"th"),b.Vc(29,"Order Date"),b.Yb(),b.Zb(30,"th"),b.Vc(31,"Total Amount"),b.Yb(),b.Zb(32,"th"),b.Vc(33,"Address"),b.Yb(),b.Zb(34,"th"),b.Vc(35,"Order Status"),b.Yb(),b.Zb(36,"th"),b.Vc(37,"Remark"),b.Yb(),b.Zb(38,"th"),b.Vc(39,"Actions"),b.Yb(),b.Yb(),b.Yb(),b.Tc(40,w,27,7,"tbody",15),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Fb(10),b.vc("ngModel",t.selectedOption),b.Fb(30),b.vc("ngForOf",t.ordersData))},directives:[Z.A,Z.q,Z.t,Z.u,Z.D,n.o,u.j,u.m,f.a,u.l,u.k],styles:[""]}),e}(),S=r("P9+s"),F=[{path:"cancel-order",component:O,canActivate:[i.a],resolve:{css:s}},{path:"delivered-order",component:D,canActivate:[i.a],resolve:{css:s}},{path:"recent-order",component:y,canActivate:[i.a],resolve:{css:s}}],j=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({imports:[[n.c,d.h.forChild(F),h.b,u.p,v.c,l.a,p.b,g.InvoiceModule,S.b]]}),e}()}}]);